<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href = "https://cdnjs.cloudflare.com/ajax/libs/extjs/6.0.0/classic/theme-neptune/resources/theme-neptune-all.css" 
              rel = "stylesheet" />
        <script type = "text/javascript" 
        src = "https://cdnjs.cloudflare.com/ajax/libs/extjs/6.0.0/ext-all.js"></script>
        <script type="text/javascript">



            Ext.onReady(function () {

                //kullanıcı getir
                Ext.Ajax.request({
                    url: 'http://localhost:8080/SiteYonetim/rest/service/getKullanici',
                    success: function (r) {
                        console.log(r.responseText);
                        Ext.getCmp('kullanici').setText(r.responseText);
                    },
                    failure: function (r) {
                        alert(r);
                    }
                });

                Ext.create('Ext.panel.Panel', {
                    layout: 'border',
                    width: 'auto',
                    height: 950,
                    renderTo: Ext.getBody(),
                    items: [
                        {
                            xtype: 'panel',
                            // html: 'North Panel',
                            region: 'north',
                            // title: 'SİTE YÖNETİMİ',
                            height: 55,
                            border: false,
                            //margin:  '30px;'
                            // style:"font-size:44px;"
                            layout: 'hbox',

                            items: [
                                {
                                    xtype: 'button',
                                    text: 'ANASAYFA',
                                    id: 'anasayfa',
                                    width: 120,
                                    height: 50,
                                    margin: '5 15 5 5',
                                    handler: function () {
                                        window.location = "./index.html";
                                    }
                                }, {
                                    xtype: 'button', // submit ?
                                    text: 'SİTELER',
                                    id: 'site',
                                    width: 120,
                                    height: 50,
                                    margin: '5 15 5 5',
                                    handler: function () {
                                        window.location = "./site.html";
                                    }
                                }, {
                                    xtype: 'button',
                                    text: 'BLOKLAR',
                                    id: 'blok',
                                    width: 120,
                                    height: 50,
                                    margin: '5 15 5 5',
                                    handler: function () {
                                        window.location = "./blok.html";
                                    }
                                }, {
                                    xtype: 'button',
                                    text: 'DAİRELER',
                                    id: 'daire',
                                    width: 120,
                                    height: 50,
                                    margin: '5 15 5 5',
                                    handler: function () {
                                        window.location = "./daire.html";
                                    }
                                },
                                {
                                    xtype: 'button',
                                    text: 'SİTE SAKİNLERİ',
                                    id: 'site_sakinleri',
                                    width: 120,
                                    height: 50,
                                    margin: '5 15 15 5',
                                    handler: function () {
                                        window.location = "./sitesakinleri.html";
                                    }
                                },
                                {
                                    xtype: 'button',
                                    text: 'AİDATLAR',
                                    id: 'aidat',
                                    width: 120,
                                    height: 50,
                                    margin: '5 15 15 5',
                                    handler: function () {
                                        window.location = "./aidat.html";
                                    }
                                },
                                {
                                    xtype: 'button',
                                    text: 'KİRALAR',
                                    id: 'kira',
                                    width: 120,
                                    height: 50,
                                    margin: '5 15 15 5',
                                    handler: function () {
                                        window.location = "./kira.html";
                                    }
                                },
                                {
                                    xtype: 'button',
                                    text: 'GÖREVLİLER',
                                    id: 'site_gorevli',
                                    width: 120,
                                    height: 50,
                                    margin: '5 15 15 5',
                                    handler: function () {
                                        window.location = "./gorevli.html";
                                    }
                                }, {
                                    xtype: 'label',
                                    margin: '15 15 15 550',
                                    id: 'kullanici',
                                    name: 'kullanici',
                                    style: 'color: #0000cd; font-weight: bold; font-size: 14px'
                                },
                                {
                                    xtype: 'button',
                                    text: 'Çıkış',
                                    margin: '10 15 15 15',
                                    id: 'cikis',
                                    name: 'cikis',
                                    width: 100,
                                    handler: function cikis() {
                                        var theUrl = "http://localhost:8080/SiteYonetim/rest/service/cikis";
                                        var xmlHttp = new XMLHttpRequest();
                                        xmlHttp.onreadystatechange = function () {
                                            if (xmlHttp.readyState == 4 && xmlHttp.status == 200) {
                                                window.location="./login.html";
                                            }
                                        };
                                        xmlHttp.open("POST", theUrl, true); // true for asynchronous 
                                        xmlHttp.send(null);
                                    }

                                }
                            ]


                        }, {
                            xtype: 'panel',
                            // html: 'Center Panel',
                            region: 'center',
                            // height:500,

                            items: [
                                {

                                }

                            ]
                        },
                        {
                            xtype: 'panel',
                            // html : 'West Panel',
                            region: 'west',
                            border: true,
                            width: 130,
                            autoScroll: true,

                        }
                    ]
                });




            });

        </script>
    </head>
    <body>
        <div></div>
    </body>
</html>